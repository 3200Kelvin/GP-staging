(()=>{"use strict";const e=window.matchMedia("(pointer: coarse)").matches;function t(e,t){return gsap.quickTo(e,t,{duration:.8,ease:"power2.out"})}const n=()=>{const{hash:e}=window.location;if(e){const t=document.querySelector(e);t&&setTimeout((()=>{t.scrollIntoView({behavior:"smooth"})}),100)}},r=({trigger:e=null,xProperty:t="offsetX",yProperty:n="offsetY",splatRadius:r=.2}={})=>{const o=document.querySelector(".smoke-sim canvas");o.width=o.clientWidth,o.height=o.clientHeight;const i=e||o;let a={SIM_RESOLUTION:128,DYE_RESOLUTION:512,DENSITY_DISSIPATION:.97,VELOCITY_DISSIPATION:.98,PRESSURE_DISSIPATION:.8,PRESSURE_ITERATIONS:20,CURL:5,SPLAT_RADIUS:r,SHADING:!0,COLORFUL:!0,PAUSED:!1,BACK_COLOR:{r:0,g:0,b:0},TRANSPARENT:!1,BLOOM:!0,BLOOM_ITERATIONS:8,BLOOM_RESOLUTION:256,BLOOM_INTENSITY:.8,BLOOM_THRESHOLD:.6,BLOOM_SOFT_KNEE:.7},u=[],c=[];u.push(new function(){this.id=-1,this.x=0,this.y=0,this.dx=0,this.dy=0,this.down=!1,this.moved=!1,this.color=[30,0,300]});const{gl:l,ext:s}=function(e){const t={alpha:!0,depth:!1,stencil:!1,antialias:!1,preserveDrawingBuffer:!1};let n=e.getContext("webgl2",t);const r=!!n;let o,i;r||(n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)),r?(n.getExtension("EXT_color_buffer_float"),i=n.getExtension("OES_texture_float_linear")):(o=n.getExtension("OES_texture_half_float"),i=n.getExtension("OES_texture_half_float_linear")),n.clearColor(0,0,0,1);const a=r?n.HALF_FLOAT:o.HALF_FLOAT_OES;let u,c,l;return r?(u=v(n,n.RGBA16F,n.RGBA,a),c=v(n,n.RG16F,n.RG,a),l=v(n,n.R16F,n.RED,a)):(u=v(n,n.RGBA,n.RGBA,a),c=v(n,n.RGBA,n.RGBA,a),l=v(n,n.RGBA,n.RGBA,a)),{gl:n,ext:{formatRGBA:u,formatRG:c,formatR:l,halfFloatTexType:a,supportLinearFiltering:i}}}(o);function v(e,t,n,r){if(!function(e,t,n,r){let o=e.createTexture();e.bindTexture(e.TEXTURE_2D,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,t,4,4,0,n,r,null);let i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0);return e.checkFramebufferStatus(e.FRAMEBUFFER)==e.FRAMEBUFFER_COMPLETE}(e,t,n,r))switch(t){case e.R16F:return v(e,e.RG16F,e.RG,r);case e.RG16F:return v(e,e.RGBA16F,e.RGBA,r);default:return null}return{internalFormat:t,format:n}}/Mobi|Android/i.test(navigator.userAgent)&&(a.SHADING=!1),s.supportLinearFiltering||(a.SHADING=!1,a.BLOOM=!1);class m{constructor(e,t){if(this.uniforms={},this.program=l.createProgram(),l.attachShader(this.program,e),l.attachShader(this.program,t),l.linkProgram(this.program),!l.getProgramParameter(this.program,l.LINK_STATUS))throw l.getProgramInfoLog(this.program);const n=l.getProgramParameter(this.program,l.ACTIVE_UNIFORMS);for(let e=0;e<n;e++){const t=l.getActiveUniform(this.program,e).name;this.uniforms[t]=l.getUniformLocation(this.program,t)}}bind(){l.useProgram(this.program)}}function f(e,t){const n=l.createShader(e);if(l.shaderSource(n,t),l.compileShader(n),!l.getShaderParameter(n,l.COMPILE_STATUS))throw l.getShaderInfoLog(n);return n}const d=f(l.VERTEX_SHADER,"\n        precision highp float;\n        attribute vec2 aPosition;\n        varying vec2 vUv;\n        varying vec2 vL;\n        varying vec2 vR;\n        varying vec2 vT;\n        varying vec2 vB;\n        uniform vec2 texelSize;\n        void main () {\n            vUv = aPosition * 0.5 + 0.5;\n            vL = vUv - vec2(texelSize.x, 0.0);\n            vR = vUv + vec2(texelSize.x, 0.0);\n            vT = vUv + vec2(0.0, texelSize.y);\n            vB = vUv - vec2(0.0, texelSize.y);\n            gl_Position = vec4(aPosition, 0.0, 1.0);\n        }\n    "),g=f(l.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        uniform sampler2D uTexture;\n        uniform float value;\n        void main () {\n            gl_FragColor = value * texture2D(uTexture, vUv);\n        }\n    "),p=f(l.FRAGMENT_SHADER,"\n        precision mediump float;\n        uniform vec4 color;\n        void main () {\n            gl_FragColor = color;\n        }\n    "),h=f(l.FRAGMENT_SHADER,"\n        precision highp float;\n        precision highp sampler2D;\n        varying vec2 vUv;\n        uniform sampler2D uTexture;\n        uniform float aspectRatio;\n        #define SCALE 25.0\n        void main () {\n            vec2 uv = floor(vUv * SCALE * vec2(aspectRatio, 1.0));\n            float v = mod(uv.x + uv.y, 2.0);\n            v = v * 0.1 + 0.8;\n            gl_FragColor = vec4(vec3(v), 1.0);\n        }\n    "),T=f(l.FRAGMENT_SHADER,"\n        precision highp float;\n        precision highp sampler2D;\n        varying vec2 vUv;\n        uniform sampler2D uTexture;\n        void main () {\n            vec3 C = texture2D(uTexture, vUv).rgb;\n            float a = max(C.r, max(C.g, C.b));\n            gl_FragColor = vec4(C, a);\n        }\n    "),E=f(l.FRAGMENT_SHADER,"\n        precision highp float;\n        precision highp sampler2D;\n        varying vec2 vUv;\n        uniform sampler2D uTexture;\n        uniform sampler2D uBloom;\n        uniform sampler2D uDithering;\n        uniform vec2 ditherScale;\n        void main () {\n            vec3 C = texture2D(uTexture, vUv).rgb;\n            vec3 bloom = texture2D(uBloom, vUv).rgb;\n            vec3 noise = texture2D(uDithering, vUv * ditherScale).rgb;\n            noise = noise * 2.0 - 1.0;\n            bloom += noise / 800.0;\n            bloom = pow(bloom.rgb, vec3(1.0 / 2.2));\n            C += bloom;\n            float a = max(C.r, max(C.g, C.b));\n            gl_FragColor = vec4(C, a);\n        }\n    "),x=f(l.FRAGMENT_SHADER,"\n        precision highp float;\n        precision highp sampler2D;\n        varying vec2 vUv;\n        varying vec2 vL;\n        varying vec2 vR;\n        varying vec2 vT;\n        varying vec2 vB;\n        uniform sampler2D uTexture;\n        uniform vec2 texelSize;\n        void main () {\n            vec3 L = texture2D(uTexture, vL).rgb;\n            vec3 R = texture2D(uTexture, vR).rgb;\n            vec3 T = texture2D(uTexture, vT).rgb;\n            vec3 B = texture2D(uTexture, vB).rgb;\n            vec3 C = texture2D(uTexture, vUv).rgb;\n            float dx = length(R) - length(L);\n            float dy = length(T) - length(B);\n            vec3 n = normalize(vec3(dx, dy, length(texelSize)));\n            vec3 l = vec3(0.0, 0.0, 1.0);\n            float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\n            C.rgb *= diffuse;\n            float a = max(C.r, max(C.g, C.b));\n            gl_FragColor = vec4(C, a);\n        }\n    "),y=f(l.FRAGMENT_SHADER,"\n        precision highp float;\n        precision highp sampler2D;\n        varying vec2 vUv;\n        varying vec2 vL;\n        varying vec2 vR;\n        varying vec2 vT;\n        varying vec2 vB;\n        uniform sampler2D uTexture;\n        uniform sampler2D uBloom;\n        uniform sampler2D uDithering;\n        uniform vec2 ditherScale;\n        uniform vec2 texelSize;\n        void main () {\n            vec3 L = texture2D(uTexture, vL).rgb;\n            vec3 R = texture2D(uTexture, vR).rgb;\n            vec3 T = texture2D(uTexture, vT).rgb;\n            vec3 B = texture2D(uTexture, vB).rgb;\n            vec3 C = texture2D(uTexture, vUv).rgb;\n            float dx = length(R) - length(L);\n            float dy = length(T) - length(B);\n            vec3 n = normalize(vec3(dx, dy, length(texelSize)));\n            vec3 l = vec3(0.0, 0.0, 1.0);\n            float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\n            C *= diffuse;\n            vec3 bloom = texture2D(uBloom, vUv).rgb;\n            vec3 noise = texture2D(uDithering, vUv * ditherScale).rgb;\n            noise = noise * 2.0 - 1.0;\n            bloom += noise / 800.0;\n            bloom = pow(bloom.rgb, vec3(1.0 / 2.2));\n            C += bloom;\n            float a = max(C.r, max(C.g, C.b));\n            gl_FragColor = vec4(C, a);\n        }\n    "),R=f(l.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying vec2 vUv;\n        uniform sampler2D uTexture;\n        uniform vec3 curve;\n        uniform float threshold;\n        void main () {\n            vec3 c = texture2D(uTexture, vUv).rgb;\n            float br = max(c.r, max(c.g, c.b));\n            float rq = clamp(br - curve.x, 0.0, curve.y);\n            rq = curve.z * rq * rq;\n            c *= max(rq, br - threshold) / max(br, 0.0001);\n            gl_FragColor = vec4(c, 0.0);\n        }\n    "),_=f(l.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying vec2 vL;\n        varying vec2 vR;\n        varying vec2 vT;\n        varying vec2 vB;\n        uniform sampler2D uTexture;\n        void main () {\n            vec4 sum = vec4(0.0);\n            sum += texture2D(uTexture, vL);\n            sum += texture2D(uTexture, vR);\n            sum += texture2D(uTexture, vT);\n            sum += texture2D(uTexture, vB);\n            sum *= 0.25;\n            gl_FragColor = sum;\n        }\n    "),D=f(l.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying vec2 vL;\n        varying vec2 vR;\n        varying vec2 vT;\n        varying vec2 vB;\n        uniform sampler2D uTexture;\n        uniform float intensity;\n        void main () {\n            vec4 sum = vec4(0.0);\n            sum += texture2D(uTexture, vL);\n            sum += texture2D(uTexture, vR);\n            sum += texture2D(uTexture, vT);\n            sum += texture2D(uTexture, vB);\n            sum *= 0.25;\n            gl_FragColor = sum * intensity;\n        }\n    "),S=f(l.FRAGMENT_SHADER,"\n        precision highp float;\n        precision highp sampler2D;\n        varying vec2 vUv;\n        uniform sampler2D uTarget;\n        uniform float aspectRatio;\n        uniform vec3 color;\n        uniform vec2 point;\n        uniform float radius;\n        void main () {\n            vec2 p = vUv - point.xy;\n            p.x *= aspectRatio;\n            vec3 splat = exp(-dot(p, p) / radius) * color;\n            vec3 base = texture2D(uTarget, vUv).xyz;\n            gl_FragColor = vec4(base + splat, 1.0);\n        }\n    "),b=f(l.FRAGMENT_SHADER,"\n        precision highp float;\n        precision highp sampler2D;\n        varying vec2 vUv;\n        uniform sampler2D uVelocity;\n        uniform sampler2D uSource;\n        uniform vec2 texelSize;\n        uniform vec2 dyeTexelSize;\n        uniform float dt;\n        uniform float dissipation;\n        vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {\n            vec2 st = uv / tsize - 0.5;\n            vec2 iuv = floor(st);\n            vec2 fuv = fract(st);\n            vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\n            vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\n            vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\n            vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\n            return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\n        }\n        void main () {\n            vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;\n            gl_FragColor = dissipation * bilerp(uSource, coord, dyeTexelSize);\n            gl_FragColor.a = 1.0;\n        }\n    "),A=f(l.FRAGMENT_SHADER,"\n        precision highp float;\n        precision highp sampler2D;\n        varying vec2 vUv;\n        uniform sampler2D uVelocity;\n        uniform sampler2D uSource;\n        uniform vec2 texelSize;\n        uniform float dt;\n        uniform float dissipation;\n        void main () {\n            vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\n            gl_FragColor = dissipation * texture2D(uSource, coord);\n            gl_FragColor.a = 1.0;\n        }\n    "),L=f(l.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uVelocity;\n        void main () {\n            float L = texture2D(uVelocity, vL).x;\n            float R = texture2D(uVelocity, vR).x;\n            float T = texture2D(uVelocity, vT).y;\n            float B = texture2D(uVelocity, vB).y;\n            vec2 C = texture2D(uVelocity, vUv).xy;\n            if (vL.x < 0.0) { L = -C.x; }\n            if (vR.x > 1.0) { R = -C.x; }\n            if (vT.y > 1.0) { T = -C.y; }\n            if (vB.y < 0.0) { B = -C.y; }\n            float div = 0.5 * (R - L + T - B);\n            gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\n        }\n    "),w=f(l.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uVelocity;\n        void main () {\n            float L = texture2D(uVelocity, vL).y;\n            float R = texture2D(uVelocity, vR).y;\n            float T = texture2D(uVelocity, vT).x;\n            float B = texture2D(uVelocity, vB).x;\n            float vorticity = R - L - T + B;\n            gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\n        }\n    "),F=f(l.FRAGMENT_SHADER,"\n        precision highp float;\n        precision highp sampler2D;\n        varying vec2 vUv;\n        varying vec2 vL;\n        varying vec2 vR;\n        varying vec2 vT;\n        varying vec2 vB;\n        uniform sampler2D uVelocity;\n        uniform sampler2D uCurl;\n        uniform float curl;\n        uniform float dt;\n        void main () {\n            float L = texture2D(uCurl, vL).x;\n            float R = texture2D(uCurl, vR).x;\n            float T = texture2D(uCurl, vT).x;\n            float B = texture2D(uCurl, vB).x;\n            float C = texture2D(uCurl, vUv).x;\n            vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\n            force /= length(force) + 0.0001;\n            force *= curl * C;\n            force.y *= -1.0;\n            vec2 vel = texture2D(uVelocity, vUv).xy;\n            gl_FragColor = vec4(vel + force * dt, 0.0, 1.0);\n        }\n    "),U=f(l.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uPressure;\n        uniform sampler2D uDivergence;\n        vec2 boundary (vec2 uv) {\n            return uv;\n            // uncomment if you use wrap or repeat texture mode\n            // uv = min(max(uv, 0.0), 1.0);\n            // return uv;\n        }\n        void main () {\n            float L = texture2D(uPressure, boundary(vL)).x;\n            float R = texture2D(uPressure, boundary(vR)).x;\n            float T = texture2D(uPressure, boundary(vT)).x;\n            float B = texture2D(uPressure, boundary(vB)).x;\n            float C = texture2D(uPressure, vUv).x;\n            float divergence = texture2D(uDivergence, vUv).x;\n            float pressure = (L + R + B + T - divergence) * 0.25;\n            gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\n        }\n    "),B=f(l.FRAGMENT_SHADER,"\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uPressure;\n        uniform sampler2D uVelocity;\n        vec2 boundary (vec2 uv) {\n            return uv;\n            // uv = min(max(uv, 0.0), 1.0);\n            // return uv;\n        }\n        void main () {\n            float L = texture2D(uPressure, boundary(vL)).x;\n            float R = texture2D(uPressure, boundary(vR)).x;\n            float T = texture2D(uPressure, boundary(vT)).x;\n            float B = texture2D(uPressure, boundary(vB)).x;\n            vec2 velocity = texture2D(uVelocity, vUv).xy;\n            velocity.xy -= vec2(R - L, T - B);\n            gl_FragColor = vec4(velocity, 0.0, 1.0);\n        }\n    "),O=(l.bindBuffer(l.ARRAY_BUFFER,l.createBuffer()),l.bufferData(l.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),l.STATIC_DRAW),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,l.createBuffer()),l.bufferData(l.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),l.STATIC_DRAW),l.vertexAttribPointer(0,2,l.FLOAT,!1,0,0),l.enableVertexAttribArray(0),e=>{l.bindFramebuffer(l.FRAMEBUFFER,e),l.drawElements(l.TRIANGLES,6,l.UNSIGNED_SHORT,0)});let C,N,P,I,M,G,H,X,q,z,k=function(){let e=l.createTexture();l.bindTexture(l.TEXTURE_2D,e),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.LINEAR),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.REPEAT),l.texImage2D(l.TEXTURE_2D,0,l.RGB,1,1,0,l.RGB,l.UNSIGNED_BYTE,new Uint8Array([255,255,255]));let t={texture:e,width:1,height:1,attach:t=>(l.activeTexture(l.TEXTURE0+t),l.bindTexture(l.TEXTURE_2D,e),t)},n=new Image;return n.onload=()=>{t.width=n.width,t.height=n.height,l.bindTexture(l.TEXTURE_2D,e),l.texImage2D(l.TEXTURE_2D,0,l.RGB,l.RGB,l.UNSIGNED_BYTE,n)},n.src="LDR_RGB1_0.png",t}();const V=new m(d,g),Y=new m(d,p),W=new m(d,h),K=new m(d,T),$=new m(d,E),j=new m(d,x),J=new m(d,y),Q=new m(d,R),Z=new m(d,_),ee=new m(d,D),te=new m(d,S),ne=new m(d,s.supportLinearFiltering?A:b),re=new m(d,L),oe=new m(d,w),ie=new m(d,F),ae=new m(d,U),ue=new m(d,B);function ce(){let e=de(a.SIM_RESOLUTION),t=de(a.DYE_RESOLUTION);C=e.width,N=e.height,P=t.width,I=t.height;const n=s.halfFloatTexType,r=s.formatRGBA,o=s.formatRG,i=s.formatR,u=s.supportLinearFiltering?l.LINEAR:l.NEAREST;M=null==M?se(P,I,r.internalFormat,r.format,n,u):ve(M,P,I,r.internalFormat,r.format,n,u),G=null==G?se(C,N,o.internalFormat,o.format,n,u):ve(G,C,N,o.internalFormat,o.format,n,u),H=le(C,N,i.internalFormat,i.format,n,l.NEAREST),X=le(C,N,i.internalFormat,i.format,n,l.NEAREST),q=se(C,N,i.internalFormat,i.format,n,l.NEAREST),function(){let e=de(a.BLOOM_RESOLUTION);const t=s.halfFloatTexType,n=s.formatRGBA,r=s.supportLinearFiltering?l.LINEAR:l.NEAREST;z=le(e.width,e.height,n.internalFormat,n.format,t,r),c.length=0;for(let o=0;o<a.BLOOM_ITERATIONS;o++){let i=e.width>>o+1,a=e.height>>o+1;if(i<2||a<2)break;let u=le(i,a,n.internalFormat,n.format,t,r);c.push(u)}}()}function le(e,t,n,r,o,i){l.activeTexture(l.TEXTURE0);let a=l.createTexture();l.bindTexture(l.TEXTURE_2D,a),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,i),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,i),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texImage2D(l.TEXTURE_2D,0,n,e,t,0,r,o,null);let u=l.createFramebuffer();return l.bindFramebuffer(l.FRAMEBUFFER,u),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,a,0),l.viewport(0,0,e,t),l.clear(l.COLOR_BUFFER_BIT),{texture:a,fbo:u,width:e,height:t,attach:e=>(l.activeTexture(l.TEXTURE0+e),l.bindTexture(l.TEXTURE_2D,a),e)}}function se(e,t,n,r,o,i){let a=le(e,t,n,r,o,i),u=le(e,t,n,r,o,i);return{get read(){return a},set read(e){a=e},get write(){return u},set write(e){u=e},swap(){let e=a;a=u,u=e}}}function ve(e,t,n,r,o,i,a){return e.read=function(e,t,n,r,o,i,a){let u=le(t,n,r,o,i,a);return V.bind(),l.uniform1i(V.uniforms.uTexture,e.attach(0)),l.uniform1f(V.uniforms.value,1),O(u.fbo),u}(e.read,t,n,r,o,i,a),e.write=le(t,n,r,o,i,a),e}ce();let me=Date.now();function fe(e=!1){let t=e?{r:1,g:.3,b:.24}:function(e){let t,n,r,o,i,a,u,c;switch(o=Math.floor(6*e),i=6*e-o,a=0,u=1*(1-1*i),c=1*(1-1*(1-i)),o%6){case 0:t=1,n=c,r=0;break;case 1:t=u,n=1,r=0;break;case 2:t=0,n=1,r=c;break;case 3:t=0,n=u,r=1;break;case 4:t=c,n=0,r=1;break;case 5:t=1,n=0,r=u}return{r:t,g:n,b:r}}(Math.random());return t.r*=.15,t.g*=.15,t.b*=.15,t}function de(e){let t=l.drawingBufferWidth/l.drawingBufferHeight;t<1&&(t=1/t);let n=Math.round(e*t),r=Math.round(e);return l.drawingBufferWidth>l.drawingBufferHeight?{width:n,height:r}:{width:r,height:n}}function ge(e,t,n){return{x:t/e.width,y:n/e.height}}!function e(){o.width==o.clientWidth&&o.height==o.clientHeight||(o.width=o.clientWidth,o.height=o.clientHeight,ce()),function(){const e=u[0];var t,n,r,i,c;e.moved&&(t=e.x,n=e.y,r=e.dx,i=e.dy,c=e.color,l.viewport(0,0,C,N),te.bind(),l.uniform1i(te.uniforms.uTarget,G.read.attach(0)),l.uniform1f(te.uniforms.aspectRatio,o.width/o.height),l.uniform2f(te.uniforms.point,t/o.width,1-n/o.height),l.uniform3f(te.uniforms.color,r,-i,1),l.uniform1f(te.uniforms.radius,a.SPLAT_RADIUS/100),O(G.write.fbo),G.swap(),l.viewport(0,0,P,I),l.uniform1i(te.uniforms.uTarget,M.read.attach(0)),l.uniform3f(te.uniforms.color,c.r,c.g,c.b),O(M.write.fbo),M.swap(),e.moved=!1),a.COLORFUL&&me+100<Date.now()&&(me=Date.now(),u[0].color=fe(!0))}(),a.PAUSED||function(){l.disable(l.BLEND),l.viewport(0,0,C,N),oe.bind(),l.uniform2f(oe.uniforms.texelSize,1/C,1/N),l.uniform1i(oe.uniforms.uVelocity,G.read.attach(0)),O(X.fbo),ie.bind(),l.uniform2f(ie.uniforms.texelSize,1/C,1/N),l.uniform1i(ie.uniforms.uVelocity,G.read.attach(0)),l.uniform1i(ie.uniforms.uCurl,X.attach(1)),l.uniform1f(ie.uniforms.curl,a.CURL),l.uniform1f(ie.uniforms.dt,.016),O(G.write.fbo),G.swap(),re.bind(),l.uniform2f(re.uniforms.texelSize,1/C,1/N),l.uniform1i(re.uniforms.uVelocity,G.read.attach(0)),O(H.fbo),V.bind(),l.uniform1i(V.uniforms.uTexture,q.read.attach(0)),l.uniform1f(V.uniforms.value,a.PRESSURE_DISSIPATION),O(q.write.fbo),q.swap(),ae.bind(),l.uniform2f(ae.uniforms.texelSize,1/C,1/N),l.uniform1i(ae.uniforms.uDivergence,H.attach(0));for(let e=0;e<a.PRESSURE_ITERATIONS;e++)l.uniform1i(ae.uniforms.uPressure,q.read.attach(1)),O(q.write.fbo),q.swap();ue.bind(),l.uniform2f(ue.uniforms.texelSize,1/C,1/N),l.uniform1i(ue.uniforms.uPressure,q.read.attach(0)),l.uniform1i(ue.uniforms.uVelocity,G.read.attach(1)),O(G.write.fbo),G.swap(),ne.bind(),l.uniform2f(ne.uniforms.texelSize,1/C,1/N),s.supportLinearFiltering||l.uniform2f(ne.uniforms.dyeTexelSize,1/C,1/N);let e=G.read.attach(0);l.uniform1i(ne.uniforms.uVelocity,e),l.uniform1i(ne.uniforms.uSource,e),l.uniform1f(ne.uniforms.dt,.016),l.uniform1f(ne.uniforms.dissipation,a.VELOCITY_DISSIPATION),O(G.write.fbo),G.swap(),l.viewport(0,0,P,I),s.supportLinearFiltering||l.uniform2f(ne.uniforms.dyeTexelSize,1/P,1/I),l.uniform1i(ne.uniforms.uVelocity,G.read.attach(0)),l.uniform1i(ne.uniforms.uSource,M.read.attach(1)),l.uniform1f(ne.uniforms.dissipation,a.DENSITY_DISSIPATION),O(M.write.fbo),M.swap()}(),function(e){a.BLOOM&&function(e,t){if(c.length<2)return;let n=t;l.disable(l.BLEND),Q.bind();let r=a.BLOOM_THRESHOLD*a.BLOOM_SOFT_KNEE+1e-4,o=a.BLOOM_THRESHOLD-r,i=2*r,u=.25/r;l.uniform3f(Q.uniforms.curve,o,i,u),l.uniform1f(Q.uniforms.threshold,a.BLOOM_THRESHOLD),l.uniform1i(Q.uniforms.uTexture,e.attach(0)),l.viewport(0,0,n.width,n.height),O(n.fbo),Z.bind();for(let e=0;e<c.length;e++){let t=c[e];l.uniform2f(Z.uniforms.texelSize,1/n.width,1/n.height),l.uniform1i(Z.uniforms.uTexture,n.attach(0)),l.viewport(0,0,t.width,t.height),O(t.fbo),n=t}l.blendFunc(l.ONE,l.ONE),l.enable(l.BLEND);for(let e=c.length-2;e>=0;e--){let t=c[e];l.uniform2f(Z.uniforms.texelSize,1/n.width,1/n.height),l.uniform1i(Z.uniforms.uTexture,n.attach(0)),l.viewport(0,0,t.width,t.height),O(t.fbo),n=t}l.disable(l.BLEND),ee.bind(),l.uniform2f(ee.uniforms.texelSize,1/n.width,1/n.height),l.uniform1i(ee.uniforms.uTexture,n.attach(0)),l.uniform1f(ee.uniforms.intensity,a.BLOOM_INTENSITY),l.viewport(0,0,t.width,t.height),O(t.fbo)}(M.read,z),null!=e&&a.TRANSPARENT?l.disable(l.BLEND):(l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA),l.enable(l.BLEND));let t=null==e?l.drawingBufferWidth:P,n=null==e?l.drawingBufferHeight:I;if(l.viewport(0,0,t,n),!a.TRANSPARENT){Y.bind();let t=a.BACK_COLOR;l.uniform4f(Y.uniforms.color,t.r/255,t.g/255,t.b/255,1),O(e)}if(null==e&&a.TRANSPARENT&&(W.bind(),l.uniform1f(W.uniforms.aspectRatio,o.width/o.height),O(null)),a.SHADING){let e=a.BLOOM?J:j;if(e.bind(),l.uniform2f(e.uniforms.texelSize,1/t,1/n),l.uniform1i(e.uniforms.uTexture,M.read.attach(0)),a.BLOOM){l.uniform1i(e.uniforms.uBloom,z.attach(1)),l.uniform1i(e.uniforms.uDithering,k.attach(2));let r=ge(k,t,n);l.uniform2f(e.uniforms.ditherScale,r.x,r.y)}}else{let e=a.BLOOM?$:K;if(e.bind(),l.uniform1i(e.uniforms.uTexture,M.read.attach(0)),a.BLOOM){l.uniform1i(e.uniforms.uBloom,z.attach(1)),l.uniform1i(e.uniforms.uDithering,k.attach(2));let r=ge(k,t,n);l.uniform2f(e.uniforms.ditherScale,r.x,r.y)}}O(e)}(null),requestAnimationFrame(e)}(),i.addEventListener("mousemove",(e=>{const r=u[0],o=e[t],i=e[n];r.moved=r.down,r.dx=5*(o-r.x),r.dy=5*(i-r.y),r.x=o,r.y=i})),i.addEventListener("touchmove",(e=>{const t=e.targetTouches,n=u[0],r=t[0];n.moved=n.down,n.dx=8*(r.clientX-n.x),n.dy=8*(r.clientY-n.y),n.x=r.clientX,n.y=r.clientY}),!1),u[0].down=!0,u[0].color=fe()},o=()=>{(()=>{const e=document.querySelector(".slider"),t=e.querySelector(".slider__content__entries"),n=t.querySelectorAll(".slider__content__entry"),r=e.querySelector(".slider__images"),o=r.querySelector(".slider__image"),i=e.querySelector(".slider__content__dots"),a=i.querySelector(".slider__content__dot"),u=[a],[c,l]=e.querySelectorAll(".slider__content__button");let s=[];const v=o.cloneNode();o.remove(),n.forEach(((e,t)=>{const n=e.querySelector("img"),r=v.cloneNode();r.src=n.src,r.srcset=n.srcset,s.push(r)})),r.append(...s);const m=n.length,f=m+1;e.style.setProperty("--num-steps",m),function(){for(let e=u.length;e<m;e++){const e=a.cloneNode();i.appendChild(e),u.push(e)}}(),gsap.to(n[0],{display:"block",opacity:1}),gsap.to(s[0],{display:"block",opacity:1,filter:"blur(0px)"}),gsap.to(u[0],{opacity:.8}),h(0);let d=0,g=[];function p(t=1){const{top:n,height:r}=e.getBoundingClientRect(),o=d+t,i=window.scrollY+n+o*r/f;window.scrollTo({top:i})}function h(e){0===e?gsap.to(c,{opacity:0,pointerEvents:"none"}):e===m-1?gsap.to(l,{opacity:0,pointerEvents:"none"}):(gsap.to(c,{opacity:1,pointerEvents:"auto"}),gsap.to(l,{opacity:1,pointerEvents:"auto"}))}ScrollTrigger.create({trigger:e,start:"top top",end:"bottom bottom",scrub:!0,onUpdate:e=>{var r;r=Math.floor(e.progress*(f-1)),d===r||r>=m||(function(e,r){g.forEach((e=>e.progress(1)));const o=gsap.timeline().to(n[r],{display:"block",position:"absolute",opacity:0}).to(n[e],{opacity:0,duration:.3}).to(n[e],{position:"absolute"}).to(n[r],{position:"relative"}).add((()=>{const o=n[e].offsetHeight,i=n[r].offsetHeight;gsap.fromTo(t,{height:o},{height:i,duration:.3})})).to(n[r],{opacity:1,duration:.3}).to(n[e],{display:"none"}),i=gsap.timeline().to(s[r],{display:"block",opacity:1,zIndex:0}).to(s[e],{opacity:0,duration:.6}).to(s[r],{zIndex:1});gsap.to(u[r],{opacity:.8,duration:.6}),gsap.to(u[e],{opacity:.15,duration:.6}),g.push(o,i)}(d,r),h(r),d=r)}}),c.addEventListener("click",(()=>p(-1))),l.addEventListener("click",(()=>p()))})(),(()=>{const e=document.querySelector(".slider__content__bg");new ResizeObserver((t=>{const n=t[0],{width:r,height:o}=n.contentRect,i=window.innerWidth/r,a=i*(r/o);e.style.setProperty("--x-proportion",i),e.style.setProperty("--y-proportion",a)})).observe(e)})()},i=()=>{document.documentElement.classList.remove("scroll-blocked"),document.documentElement.classList.remove("scroll-blocked--reset")},a="preloader",u=()=>"true"===sessionStorage.getItem(a),c=()=>sessionStorage.setItem(a,!0),l=(e=!1)=>{let t=0;const r=document.querySelector(".preloader");if(!r)return i(),n(),null;const o=r.querySelector(".preloader__line"),a=o.querySelector(".preloader__line__runner"),l=r.querySelector(".preloader__button");return e?(s(),null):(setTimeout((()=>{v(20)}),500),{skipPreloader:s,setPreloaderStage:v,removePreloader:m,showPreloaderButton:function(){return c(),gsap.timeline().to(o,{opacity:0,duration:.5}).to(o,{display:"none"}).to(l,{opacity:0,display:"block"}).to(l,{opacity:1,duration:.5})},getIsPreloaded:u,setIsPreloaded:c});function s(){return v(100).add((()=>{m(),i(),n()}))}function v(e){return t+=e,t>100&&(t=100),gsap.timeline().to(a,{transform:`scaleX(${t/100})`,duration:.4})}function m(){return gsap.to(r,{opacity:0,duration:.4,onComplete:()=>{r.remove()}})}};document.addEventListener("DOMContentLoaded",(()=>{(()=>{if(e)return;const n=document.querySelector(".hero"),r=document.querySelector(".cursor"),{setTarget:o}=((n,r,{x:o=0,y:i=0,isSmooth:a=!0,isFixed:u=!1}={})=>{if(e)return()=>{};const c={x:o,y:i},l=new Proxy(c,{set:(e,t,n)=>(e[t]=n,requestAnimationFrame(T),!0)}),s=u?({clientX:e,clientY:t})=>({x:e,y:t}):({pageX:e,pageY:t})=>({x:e,y:t}),v=a?t(l,"x"):e=>l.x=e,m=a?t(l,"y"):e=>l.y=e,f=(()=>{let e=null;return function(t){e&&(cancelAnimationFrame(e),e=null),e=requestAnimationFrame(t)}})();return r.length?r.forEach((e=>e.addEventListener("mouseenter",d))):r&&r.addEventListener("mouseenter",d),{setTarget:h};function d(e){const{target:t}=e,{x:r,y:o}=s(e);h(r,o),n.classList.add("entered"),t.addEventListener("mousemove",g),t.addEventListener("mouseleave",p)}function g(e){const{x:t,y:n}=s(e);h(t,n)}function p(e){const{target:t}=e,{x:r,y:o}=s(e);h(r,o),n.classList.remove("entered"),t.removeEventListener("mousemove",g),t.removeEventListener("mouseleave",p)}function h(e,t){f((()=>{v(e),m(t)}))}function T(){const{x:e,y:t}=c;n.style.setProperty("--transform",`translate(${e}px, ${t}px)`)}})(r,n,{x:window.innerWidth/2,y:window.innerHeight/2,isSmooth:!1,isFixed:!0});o(window.innerWidth/2,window.innerHeight/2)})(),r(),o(),document.querySelectorAll(".accordeon").forEach((function(e){const t="true"===e.dataset.openWhenVisible,n=[...e.querySelectorAll(".accordeon__entry")].map(((e,t)=>{const n=e.querySelector(".accordeon__entry__header"),r=e.querySelector(".accordeon__entry__body"),i=e.querySelector(".accordeon__entry__content"),a=e.querySelector(".accordeon__entry__iicon");return n.addEventListener("click",(()=>o(t))),n.addEventListener("keydown",(e=>function(e,t){"Enter"!==e.key&&"Space"!==e.code||(e.preventDefault(),o(t))}(e,t))),gsap.timeline().to(n,{opacity:.3,backgroundColor:"transparent"}).to(a,{opacity:1}).to(r,{height:0}).to(i,{display:"none"}),{button:n,body:r,content:i,icon:a}}));let r=null;if(t){const t=new IntersectionObserver((e=>{e[0].isIntersecting&&(o(0),t.disconnect())}),{threshold:1});t.observe(e)}function o(e){null!==r&&function(e){const{button:t,body:n,content:r,icon:o}=e;gsap.timeline().to(t,{opacity:.3,backgroundColor:"transparent"}).to(o,{opacity:1}).to(n,{height:0,duration:.4}).to(r,{display:"none"})}(n[r]),r!==e?(function(e){const{button:t,body:n,content:r,icon:o}=e;gsap.timeline().to(r,{display:"block"}).to(t,{opacity:1,backgroundColor:"var(--orange)"}).to(o,{opacity:0}).to(n,{height:"auto",duration:.4})}(n[e]),r=e):r=null}})),(()=>{const e=l();if(!e)return;const{skipPreloader:t,setPreloaderStage:n,removePreloader:r,showPreloaderButton:o,getIsPreloaded:a,setIsPreloaded:u}=e,c=a(),s=document.querySelector('.hero, [data-role="hero"]');if(!s)return void t();const v=document.querySelector(".menu__content"),m=document.querySelector(".cursor"),f=s.querySelector('.heading, [data-role="hero-title"]'),d=s.querySelector('.hero__caption > *, [data-role="hero-caption"]'),g=s.querySelectorAll('.weights > *, [data-role="hero-last"]'),p=s.querySelector(".hero__video--first video"),h=s.querySelector(".hero__video--second video");if(!p||!h)return t();function T(){gsap.to(m,{display:"none"}),gsap.to(v,{transform:"translateY(-150%)"}),gsap.to(d,{opacity:0}),gsap.to(g,{opacity:0}),2===p.networkState&&2===h.networkState?y().then((()=>async function(){new Promise((e=>{p.play().then((()=>{p.pause(),e(!0)})).catch((()=>e(!1)))})).then((e=>{e?E():(button.addEventListener("click",(()=>{button.firstElementChild.textContent="Wait a sec...",E()}),{once:!0}),o())}))}())):n(100).add((()=>{button.addEventListener("click",(()=>{button.firstElementChild.textContent="Wait a sec...",y().then((()=>E())),R()}),{once:!0})})).add(o())}async function E(){setTimeout((()=>{r(),p.play(),p.addEventListener("ended",(()=>{h.play(),p.remove(),x(),i(),u()}))}),1e3)}function x(){f.appear?.(),gsap.to(m,{display:"block"}),gsap.to(v,{transform:"translateY(0%)",duration:.7}),gsap.to(d,{opacity:1,duration:.7}),gsap.to(g,{opacity:1,duration:.7})}async function y(){const e=new Promise((e=>{p.addEventListener("canplaythrough",(()=>{n(40),e()}),{once:!0})})),t=new Promise((e=>{h.addEventListener("canplay",(()=>{n(40),e()}),{once:!0})}));return R(),Promise.all([e,t])}function R(){p.load(),h.load()}c?h.play().then((()=>{p.remove(),n(100).add((()=>{r(),x(),i(),u()}))})).catch((()=>{T()})):T()})()}))})();